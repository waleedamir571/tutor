!function(){"use strict";(()=>{const t=()=>JSON.parse(localStorage.getItem("_s3History"))||[];(()=>{const t=JSON.parse(localStorage.getItem("_s3History"))||[];if(t?.[t?.length-1]?.url===window.location.pathname)return;const e={url:window.location.pathname,timestamp:(new Date).getTime()};t.push(e),localStorage.setItem("_s3History",JSON.stringify(t?.slice(-9)))})();const e=(t,e,r,i=!0,o=!0)=>{let a=function(t,e){return void 0===t?e:t};i=a(i,!1),o=a(o,!1);let m=new MutationObserver((function(t){t.forEach((function(t){if(t.addedNodes)for(let i=0;i<t.addedNodes.length;i++){let a=t.addedNodes[i];e(a)&&(r(a),o&&m.disconnect())}}))}));m.observe(t,{childList:!0,attributes:!1,characterData:!1,subtree:i})},r=()=>l&&l.pageUrl?l.pageUrl+window.location.search:window.location.href,i=(t,e,r)=>{if("timestamp"===e)return;"history_first"!==e&&"history_last"!==e||(r=JSON.stringify(r));let i=document.createElement("input"),o=e.toLowerCase();i.setAttribute("type","hidden"),i.setAttribute("name",o),i.setAttribute("value",r),t.appendChild(i)},o=(t,e)=>{if(l&&l.fieldOverwrites){let r=Object.keys(l.fieldOverwrites);for(let i=0;i<r.length;i++){let o=e.querySelector(`[id='${r[i]}']`);if(o){let e=l.fieldOverwrites[r[i]].split("_"),a=[e.slice(0,-1).join("_"),e[e.length-1]];t[a[1]]&&t[a[1]][a[0]]&&(o.value=t[a[1]][a[0]])}}}},a=t=>{if(t){s.first.conversionpage=r(),s.last.conversionpage=r();let e=Object.entries(s);for(let r=0;r<t.length;r++){if(t[r].getAttribute("data-s3-tracking"))return;t[r].setAttribute("data-s3-tracking","true");for(let o=0;o<e.length;o++){let a=Object.keys(e[o][1]);for(let m=0;m<t.length;m++)for(let m=0;m<a.length;m++)i(t[r],a[m]+"_"+n[e[o][0]],e[o][1][a[m]])}window.setTimeout((()=>{o(s,t[r])}),1e3)}}};if(!(()=>{try{return!!localStorage}catch(t){return!1}})())return;let m="_s3tracking",c="_s3trackingLast",n={first:"first",last:"last"},l=window._s3trackingConfig||{},s=(e=>{let r=JSON.parse(localStorage.getItem(m)),i=r&&((new Date).getTime()-r.timestamp)/864e5<60;if(e.timestamp=(new Date).getTime(),i||(localStorage.setItem(m,JSON.stringify(e)),r=e),document.referrer.slice(0,document.location.origin.length)!==document.location.origin)localStorage.setItem(c,JSON.stringify(e));else{const t=JSON.parse(localStorage.getItem(c));t&&(e=t)}return localStorage.setItem(c,JSON.stringify({...e,history:t()})),localStorage.getItem(c)||localStorage.setItem(c,JSON.stringify(r)),{first:r,last:e}})((()=>{let e=(()=>{let t=location.search.substring(1);return t?JSON.parse('{"'+decodeURI(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}'):{}})(),i=""!==document.referrer?document.referrer:"direct";const o=((t,e)=>((t,e)=>{let r={...t},i={gclid:{utm_source:"google",utm_medium:"cpc"},msclkid:{utm_source:"bing",utm_medium:"cpc"},vmcid:{utm_source:"yahoo",utm_medium:"cpc"},ttclid:{utm_source:"tiktok",utm_medium:"cpc"},fbclid:{utm_source:"facebook",utm_medium:"cpc"}};const o=Object.keys(i);for(let a=0;a<o.length;a++)if(e[o[a]]){r={...t,...i[o[a]]};break}return r})(((t={},e)=>{let r={...t},i=[{pattern:/^.*(google).*$/,params:{utm_medium:"organic"}},{pattern:/^.*(bing).*$/,params:{utm_medium:"organic"}},{pattern:/^.*(yahoo).*$/,params:{utm_medium:"organic"}},{pattern:/^.*(duckduckgo).*$/,params:{utm_medium:"organic"}},{pattern:/^.*(facebook|instagram).*$/,params:{utm_medium:"social"}},{pattern:/^.*(tiktok).*$/,params:{utm_medium:"social"}},{pattern:/^.*(twitter|pinterest|linkedin|youtube).*$/,params:{utm_medium:"social"}}];if(e&&"direct"!==e){let t=!1;for(let o=0;o<i.length;o++){let a=e.match(i[o].pattern);if(a){let e=(i[o].params||{}).utm_source||a[1];r={...i[o].params,utm_source:e},t=!0;break}}t||(r={utm_source:e.match(/^https?:\/\/(.*?)(?:$|\/)/)[1],utm_medium:"referral"})}return r})({},t),e))(i,e);return{fbclid:e.fbclid||"",gclid:e.gclid||"",msclkid:e.msclkid||"",ttclid:e.ttclid||"",vmcid:e.vmcid||"",referrer:i,landingPage:r(),utm_source:e.utm_source||e.source||o.utm_source||"",utm_medium:e.utm_medium||e.medium||o.utm_medium||("direct"===i?"direct":""),utm_keyword:e.utm_term||e.utm_keyword||e.term||e.keyword||"",utm_campaign:e.utm_campaign||e.campaign||"",utm_content:e.utm_content||e.content||"",history:t()}})()),u=(l.formElements||".s3-form").split(",");!0!==l.disableFormFields&&(()=>{for(let t=0;t<u.length;t++)e(document,(()=>document.querySelectorAll(u[t].trim()).length),(()=>a(document.querySelectorAll(u[t].trim()))))})()})()}();
//# sourceMappingURL=bundle.js.map